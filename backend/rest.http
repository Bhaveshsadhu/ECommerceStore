############################################################
# BASE URL
############################################################

@baseUrl = http://localhost:5000/api
@contentType = application/json

@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTFjNzhlMDlmNTE0ODNhYjM4OGYyNzUiLCJpYXQiOjE3NjM0NzM5MTIsImV4cCI6MTc2NDA3ODcxMn0.WiUjKekocM6Z_Vu7x10JaBcWcAmZa0Rqdb2hRPQb9QY


############################################################
# HEALTH CHECK
############################################################

### Health Check
GET {{baseUrl}}/health
Content-Type: {{contentType}}

############################################################
# AUTH MODULE
############################################################

### REGISTER USER
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
  "name": "Bhavesh",
  "email": "bhavesh{{$timestamp}}@example.com",
  "password": "password123",
  "role": "user"
}

### REGISTER VENDOR
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
  "name": "Vendor User",
  "email": "vendor{{$timestamp}}@example.com",
  "password": "vendorpass123",
  "role": "vendor"
}

### REGISTER DELIVERY PARTNER
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
  "name": "Delivery Partner",
  "email": "delivery{{$timestamp}}@example.com",
  "password": "delivery123",
  "role": "delivery-partner"
}

### REGISTER ADMIN
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
  "name": "Admin",
  "email": "admin{{$timestamp}}@example.com",
  "password": "admin123",
  "role": "admin"
}

############################################################
# LOGIN
############################################################

### LOGIN USER
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "bhavesh1763473632@example.com",
  "password": "password123"
}

### LOGIN VENDOR
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "vendor1763473672@example.com",
  "password": "vendorpass123"
}

### LOGIN DELIVERY PARTNER
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "delivery1763473684@example.com",
  "password": "delivery123"
}

### LOGIN ADMIN
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "admin1763473689@example.com",
  "password": "admin123"
}

############################################################
# GET CURRENT USER (Protected Route)
############################################################

### GET LOGGED-IN USER PROFILE
GET {{baseUrl}}/auth/me
Content-Type: {{contentType}}

############################################################
# LOGOUT
############################################################

### LOGOUT USER
POST {{baseUrl}}/auth/logout
Content-Type: {{contentType}}





############################################################
# PRODUCTS
############################################################

@baseUrl = http://localhost:5000/api
@contentType = application/json

### Get all products (public)
GET {{baseUrl}}/products?page=1&limit=10&keyword=&category=&vendor=
Content-Type: {{contentType}}

### Get single product by ID (public)
GET {{baseUrl}}/products/{{productId}}
Content-Type: {{contentType}}

### Get my vendor products (vendor/admin)
GET {{baseUrl}}/products/vendor/me
Content-Type: {{contentType}}


### Create product (vendor or admin)
POST {{baseUrl}}/products
Content-Type: {{contentType}}


{
  "name": "Sample Product",
  "description": "This is a test product from Bhavesh's store.",
  "price": 19.99,
  "stock": 50,
  "category": "{{categoryId}}",
  "images": [
    {
      "url": "https://example.com/image.jpg",
      "isThumbnail": true
    }
  ]
}

### Update product (vendor or admin)
PUT {{baseUrl}}/products/{{productId}}
Content-Type: {{contentType}}


{
  "name": "Updated Product Name",
  "price": 24.99,
  "stock": 100
}

### Delete product (vendor or admin)
DELETE {{baseUrl}}/products/{{productId}}
Content-Type: {{contentType}}


### Approve product (admin only)
PATCH {{baseUrl}}/products/{{productId}}/approve
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}


############################################################
# CART
############################################################


 @productId = 691c8ec8334da63728c5edb1

### Get my cart
GET {{baseUrl}}/cart
Content-Type: {{contentType}}


### Add item to cart
POST {{baseUrl}}/cart/add
Content-Type: {{contentType}}


{
  "productId": "{{productId}}",
  "qty": 2
}

### Update item quantity in cart
PUT {{baseUrl}}/cart/update
Content-Type: {{contentType}}


{
  "productId": "{{productId}}",
  "qty": 5
}

### Remove item from cart
DELETE {{baseUrl}}/cart/remove/{{productId}}
Content-Type: {{contentType}}


### Clear cart
DELETE {{baseUrl}}/cart/clear
Content-Type: {{contentType}}



############################################################
# ORDERS - CUSTOMER FLOW
############################################################

@baseUrl = http://localhost:5000/api
@contentType = application/json
# @token = PASTE_USER_JWT_HERE
# shipping details can be edited below

### Create order from cart
POST {{baseUrl}}/orders
Content-Type: {{contentType}}


{
  "shippingAddress": {
    "fullName": "Bhavesh User",
    "addressLine1": "123 Test Street",
    "addressLine2": "Unit 5",
    "city": "Sydney",
    "state": "NSW",
    "postcode": "2000",
    "country": "Australia",
    "phone": "0400000000"
  },
  "paymentMethod": "COD"
}

### Get my orders
GET {{baseUrl}}/orders/my
Content-Type: {{contentType}}


### Get single order by ID
GET {{baseUrl}}/orders/{{orderId}}
Content-Type: {{contentType}}


############################################################
# VENDOR APIs
############################################################

@baseUrl = http://localhost:5000/api
@contentType = application/json
# @vendorToken = PASTE_VENDOR_JWT_HERE
# @vendorOrderId = FILL_AFTER_FETCHING ORDERS

### Get vendor stats (as vendor)
GET {{baseUrl}}/vendor/stats
Content-Type: {{contentType}}
# Authorization: Bearer {{vendorToken}}

### Get vendor orders (orders that contain vendor's products)
GET {{baseUrl}}/vendor/orders
Content-Type: {{contentType}}
# Authorization: Bearer {{vendorToken}}

### Get single vendor order by ID
GET {{baseUrl}}/vendor/orders/{{vendorOrderId}}
Content-Type: {{contentType}}
# Authorization: Bearer {{vendorToken}}


############################################################
# DELIVERY PARTNER APIs
############################################################

@baseUrl = http://localhost:5000/api
@contentType = application/json
# @deliveryToken = PASTE_DELIVERY_PARTNER_JWT_HERE
# @deliveryOrderId = FILL_FROM_ASSIGNED_ORDERS_RESPONSE

### Get delivery partner stats
GET {{baseUrl}}/delivery/stats
Content-Type: {{contentType}}
# Authorization: Bearer {{deliveryToken}}

### Get assigned orders
GET {{baseUrl}}/delivery/assigned-orders
Content-Type: {{contentType}}
# Authorization: Bearer {{deliveryToken}}

### Get assigned orders filtered by status
GET {{baseUrl}}/delivery/assigned-orders?status=out-for-delivery
Content-Type: {{contentType}}
# Authorization: Bearer {{deliveryToken}}

### Set order status to out-for-delivery
PUT {{baseUrl}}/delivery/orders/{{deliveryOrderId}}/status
Content-Type: {{contentType}}
# Authorization: Bearer {{deliveryToken}}

{
  "status": "out-for-delivery"
}

### Set order status to delivered
PUT {{baseUrl}}/delivery/orders/{{deliveryOrderId}}/status
Content-Type: {{contentType}}
# Authorization: Bearer {{deliveryToken}}

{
  "status": "delivered"
}


############################################################
# ADMIN APIs
############################################################

@baseUrl = http://localhost:5000/api
@contentType = application/json
# @adminToken = PASTE_ADMIN_JWT_HERE
# @userId = SOME_USER_ID
# @vendorId = SOME_VENDOR_USER_ID
# @partnerId = SOME_DELIVERY_PARTNER_USER_ID
# @adminOrderId = SOME_ORDER_ID

### Admin: Dashboard stats
GET {{baseUrl}}/admin/stats
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Get all users
GET {{baseUrl}}/admin/users
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Change user role
PUT {{baseUrl}}/admin/users/{{userId}}/role
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

{
  "role": "vendor"
}

### Admin: Block user
PUT {{baseUrl}}/admin/users/{{userId}}/block
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Unblock user
PUT {{baseUrl}}/admin/users/{{userId}}/unblock
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Get all vendors
GET {{baseUrl}}/admin/vendors
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Approve vendor
PUT {{baseUrl}}/admin/vendors/{{vendorId}}/approve
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Deactivate vendor
PUT {{baseUrl}}/admin/vendors/{{vendorId}}/deactivate
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Get all delivery partners
GET {{baseUrl}}/admin/delivery-partners
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Activate delivery partner
PUT {{baseUrl}}/admin/delivery-partners/{{partnerId}}/activate
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Deactivate delivery partner
PUT {{baseUrl}}/admin/delivery-partners/{{partnerId}}/deactivate
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Get all orders
GET {{baseUrl}}/admin/orders
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Get order by ID
GET {{baseUrl}}/admin/orders/{{adminOrderId}}
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

### Admin: Update order status
PUT {{baseUrl}}/admin/orders/{{adminOrderId}}/status
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

{
  "orderStatus": "shipped"
}

### Admin: Assign delivery partner
PUT {{baseUrl}}/admin/orders/{{adminOrderId}}/assign-delivery
Content-Type: {{contentType}}
# Authorization: Bearer {{adminToken}}

{
  "deliveryPartnerId": "{{partnerId}}"
}
